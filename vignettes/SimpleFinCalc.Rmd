---
title: "SimpleFinCalc"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{SimpleFinCalc}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(SimpleFinCalc)
```

The 'SimpleFinCalc' R package provide a straightforward suite of functions for performing common financial calculations, making it an excellent educational tool or quick-reference utility. It includes core functions for analyzing the time value of money, such as computing future and present values, as well as calculating loan payments. The package also features a function for generating a full amortization schedule, allowing users to easily break down loan payments into principal and interest over time. By encapsulating complex financial formulas into easy-to-use functions, SimpleFinCalc helps users perform essential financial analyses without the need for manual calculations, streamlining tasks for students, analysts, or anyone interested in personal finance.

The 'SimpleFinCalc' R package includes a built in data set 'profiles1' to assist in the testing and demonstration of the many functions that the packages includes. The data set is available when the package is installed and the library is loaded in to the R working environment. The data set can alo be referenced with the data() function.

# Installation

```{r}
# Install package

# install.packages("pak")
# pak::pak("rwalshUSF/SimpleFinCalc")

# Load Library
# library(SimpleFinCalc)

# Inspect Data Set 'profiles1'
# data("profiles1")
head(profiles1)
```

# Examples of the package's functions with user input and 'profiles1' data

## --- 1. Time Value of Money (TVM) Functions ---

### Calculate the Future Value (FV) of a lump-sum investment (simple interest).

Simple Future Value - $FV = PV * (1 + r)^n$

```{r}
# The 'fv_simple()' function:
#
# This function performs a 'Simple Future Value' calculation with robust input 
# validation. It takes three variables; Principal, Rate, and Years, and returns 
# the calculated value.

# Using user variables:
testP<-1000
testR<-5
testY<-10
fv_simple(testP,testR,testY)
# Therefore if a person had a Principal of $1000, at a Rate of .05% for 10 Years 
# they would have ~$1628.895 in the future!

# Using a record from the 'profiles1' data set

# Print the first record in the data set
profiles1[1,]

# Call the function using the 'profiles1[1]' data
fv_simple(profiles1$Principal[1],profiles1$Rate[1],profiles1$Years[1])
# Therefore if a person had a Principal of $457488.2, at a Rate of 0.13506535% 
# for 25 Years they would have ~$10861782.00 in the future!
```

### Calculate the Future Value (FV) of a lump-sum investment (compound interest).

Compound Future Value - $FV = P * (1 + r/n)^(n*t)$

```{r}
# The 'fv_compound()' function:
#
# This function performs a 'Compound Future Value' calculation with robust input 
# validation. It takes four variables; Principal, Rate, Years, and N_Compounds; 
# then returns the calculated value.

# Using user variables:
testP<-1000
testR<-5
testY<-10
testN<-4
fv_compound(testP,testR,testY,testN)
# Therefore if a person had a Principal of $1000, at a Rate of .05% for 10 Years, 
# that compounds 4 times a year; they would have ~$1643.619 in the future!

# Using a record from the 'profiles1' data set

# Print the first record in the data set
profiles1[1,]

# Call the function using the 'profiles1[1]' data
fv_compound(profiles1$Principal[1],profiles1$Rate[1],profiles1$Years[1],profiles1$N_Compounding[1])
# Therefore if a person had a Principal of $1000, at a Rate of .05% for 10 Years, 
# that compounds 4 times a year; they would have ~$10861782.00 in the future!
```

### Calculate the Present Value (PV) of a future sum of money.

Present Value - $PV = FV / (1 + r)^n$

```{r}
# The 'pv()' function:
#
# This function performs a 'Present Value' calculation with robust input validation.
# It takes three variables; Future_Value_Input, Rate, and Years; 
# then returns the calculated value.

# Using user variables:
testF<-10000
testR<-5
testY<-10
pv(testF,testR,testY)
# Therefore if a person will have $10000 in the future, at an annual discount 
# Rate of .05%, receiving the money 10 Years from now; their money is worth 
# ~$6139.133 in the present!

# Using a record from the 'profiles1' data set

# Print the first record in the data set
profiles1[1,]

# Call the function using the 'profiles1[1]' data
pv(profiles1$Future_Value_Input[1],profiles1$Rate[1],profiles1$Years[1])
# Therefore if a person will have $1039037 in the future, at an annual discount 
# Rate of 0.1350653%, receiving the money 25 Years from now; their money is worth 
# ~$43763.29 in the present!
```

### Calculate the fixed annuity payment amount for a loan or investment.

Fixed Annuity Payment - $payment = P * (r*(1 + r)^n)/((1 + r)^n-1)$

```{r}
# The 'annuity_payment()' function:
#
# This function performs an 'annuity_payment' calculation with robust input validation.
# It takes three variables; Principal, Rate, and Years; 
# then returns the calculated value. The regular annual payment amount.

# Using user variables:
testP<-1000
testR<-5
testY<-10
annuity_payment(testP,testR,testY)
# Therefore if a person will has $1000 in an annuity, at an annual Rate of .05%, 
# receiving payments for 10 Years; their regular payment is ~$129.5046!

# Using a record from the 'profiles1' data set

# Print the first record in the data set
profiles1[1,]

# Call the function using the 'profiles1[1]' data
annuity_payment(profiles1$Principal[1],profiles1$Rate[1],profiles1$Years[1])
# Therefore if a person will has $457488.2 in an annuity, at an annual Rate of 
# 0.1350653%, receiving payments for 25 Years; their regular payment is 
# ~$64507.79!
```

## --- 2. Loan and Mortgage Calculation ---

### Calculate the fixed monthly payment for a loan.

Monthly Loan Payment - $payment = P*(r*(1 + r)^n/((1+r)^n-1)$

```{r}
# The 'loan_payment()' function:
#
# This function performs an 'loan_payment' calculation with robust input validation.
# It takes three variables; Principal, Rate, and Years; 
# then returns the calculated value. The fixed monthly payment.

# Using user variables:
testP<-1000
testR<-5
testY<-10
loan_payment(testP,testR,testY)
# Therefore if a person borrows $1000, at an annual Rate of .05%, 
# for 10 Years; their fixed monthly loan payment is ~$10.60655!

# Using a record from the 'profiles1' data set

# Print the first record in the data set
profiles1[1,]

# Call the function using the 'profiles1[1]' data
loan_payment(profiles1$Principal[1],profiles1$Rate[1],profiles1$Years[1])
# Therefore if a person borrows $457488.2, at an annual Rate of 0.1350653%, 
# for 25 Years; their fixed monthly loan payment is ~$5334.956!
```

### Create an amortization schedule data frame for a loan.

The 'amort_schedule' function relies on two core formulas and a sequential process:

Formula for the Fixed Monthly Payment (same as loan payment)

Monthly Loan Payment - $payment = P*(r*(1 + r)^n/((1+r)^n-1)$

Then, Formulas Used Within the Amortization Loop:

The function then iterates through each payment period (month) using a for loop and applies three simple formulas for each row:

Interest Payment: $Interest = Beginning Balance * monthly rate$

Principal Paid: $Principal Paid = Payment - Interest$

Ending Balance: $Ending Balance = Beginning Balance - Principal Paid$

```{r}
# The 'amort_schedule()' function:
#
# This function performs 'amort_schedule' calculations with robust input validation.
# It takes three variables; Principal, Rate, and Years; 
# then returns A data frame showing the breakdown of each payment.

# Using user variables:
testP<-1000
testR<-5
testY<-10
sched1<-amort_schedule(testP,testR,testY)
# The output is limited for space
head(sched1)

# Using a record from the 'profiles1' data set

# Print the first record in the data set
profiles1[1,]

# Call the function using the 'profiles1[1]' data
sched2<-amort_schedule(profiles1$Principal[1],profiles1$Rate[1],profiles1$Years[1])
# The output is limited for space
head(sched2)
```







